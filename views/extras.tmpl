{{define "html-head"}}
<head data-turbolinks-eval="false">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="dcrdata, an original Decred block explorer powered by Go">
    <meta name="author" content="The Decred developers">
    <!--  Custom favicon  -->
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
    <link rel="icon" href="/images/favicon/favicon.ico">
    <link rel="icon" type="image/png" href="/images/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/images/favicon/manifest.json">
    <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/images/favicon/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Decred - Autonomous Digital Currency">
    <meta name="application-name" content="Decred - Autonomous Digital Currency">
    <meta name="msapplication-TileColor" content="#2973ff">
    <meta name="msapplication-TileImage" content="/images/favicon/mstile-144x144.png">
    <meta name="msapplication-config" content="/images/favicon/browserconfig.xml">
    <meta name="turbolinks-cache-control" content="no-cache">
    <title>{{.}}</title>
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/nexthome.css" rel="stylesheet">
    <link href="/css/charts.css" rel="stylesheet">
    <script src="/js/vendor/jquery.min.js"></script>
    <script src="/js/vendor/turbolinks.min.js"></script>
    <script src="/js/vendor/jquery-migrate.min.js"></script>
</head>
{{end}}

{{define "navbar"}}
<header class="top-nav">
    <div class="container">
        <div class="d-flex align-items-center flex-wrap">
            <div class="d-flex align-items-center">
                <div class="col-sm-auto" style="padding: 0 2px">
                    <a href="/" class="no-underline d-block home-link">
                        <div class="dcrdata-logo"></div>
                    </a>
                </div>
            </div>
            <div class="col pl-2">
                <form class="navbar-form" role="search" id="search-form" action="/search">
                    <div class="input-group">
                        <input
                            tabindex="0"
                            type="text"
                            name="search"
                            id="search"
                            class="form-control top-search mousetrap"
                            placeholder="Search for blocks, addresses or transactions"
                        />
                    </div>
                </form>
            </div>
            <nav role="navigation" id="hamburger-menu" data-controller="menu" data-turbolinks-permanent>
                <div id="menuToggle">
                    <input type="checkbox" data-target="menu.toggle"/>
                    <span class="patty"></span>
                    <span class="patty"></span>
                    <span class="patty short"></span>
                    <div id="menu">
                        <a data-keynav-skip href="/" title="Home">Home</a>
                        <a data-keynav-skip href="/blocks" title="Decred blocks">Blocks</a>
                        <a data-keynav-skip href="/mempool" title="Decred mempool">Mempool</a>
                        <a data-keynav-skip href="/ticketpool" title="Decred ticket pool">Ticket Pool</a>
                        <a data-keynav-skip href="/charts" title="Decred charts">Charts</a>
                        <a data-keynav-skip href="/agendas" title="Agendas">Agendas</a>
                        <a data-keynav-skip href="/parameters" title="Chain Parameters">Parameters</a>
                        <a data-keynav-skip href="/decodetx" title="Decode or send a raw transaction">Decode/Broadcast Tx</a>
                        {{if eq .NetName "Mainnet"}}
                            <a data-keynav-skip href="http://testnet.dcrdata.org/" title="Home">Switch To Testnet</a>
                        {{else}}
                            <a data-keynav-skip href="https://explorer.dcrdata.org/" title="Home">Switch To Mainnet</a>
                        {{end}}
                        <span data-keynav-skip data-action="click->menu#onSunClick" class="jsonly d-inline-block"><span id="sun-icon" class="dcricon-sun-fill no-underline pr-2"></span> Night Mode</span>
                        <a data-keynav-skip data-turbolinks="false" href="#" class="jsonly" id="keynav-toggle">
                            <span class="text">Enable Hot Keys</span><span class="keys-hint">(&nbsp;&nbsp;<span class="arrows"> &#8592;<br>&#8594;</span>&nbsp;&nbsp;enter&nbsp;&nbsp;\&nbsp;&nbsp;=&nbsp;&nbsp;)</span>
                        </a>
                        <a data-keynav-skip href="https://github.com/decred/dcrdata#json-rest-api" title="API Endpoints" target="_blank">JSON API Docs</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <script data-turbolinks-eval="false">
        var DCRThings = {};
        DCRThings.targetBlockTime = {{$.BlockTimeUnix}};
        DCRThings.ticketPoolSize = {{$.ChainParams.TicketPoolSize}};
    </script>
</header>
<div id="watermark">HODL<br>HODL<br>HODL</div>
{{end}}

{{define "footer"}}
<footer class="navbar-fixed-bottom">
    <div class="container d-flex justify-content-between align-items-center">
        <ul class="nav justify-contents-left nowrap blockcounter">
          <li class="nav-item text-left">
            <span data-controller="time" data-target="time.age" data-time-lastblocktime="{{$.Tip.Time}}"></span> <span class="block-msg">since last block</span>
          </li>
        </ul>
        <ul class="nav justify-content-center col">
            <li class="nav-item">
                <a
                    class="nav-item no-wrap"
                    href="https://github.com/decred/dcrdata"
                    title="dcrdata on GitHub"
                    target="_blank"
                    rel="noopener noreferrer"
                >dcrdata v{{.Version}}</a>
            </li>
            <li class="nav-item">
                <a
                    class="nav-item nowrap"
                    href="https://github.com/decred/dcrdata/blob/master/LICENSE"
                    target="_blank"
                    rel="noopener noreferrer"
                >Â© 2018 The Decred developers (ISC)</a>
            </li>
        </ul>
        <ul class="nav justify-content-right align-items-center">
            <li class="text-right connection-wrapper">
                <span
                    id="connection"
                    class="nav-item align-items-center"
                    data-turbolinks-permanent
                    title="While connected, you will receive live page updates and, if enabled, desktop notifications (click to enable)."
                    ><span>Connecting <span class="d-none d-md-inline-block">to WebSocket...</span></span><div></div>
                </span>
            </li>
        </ul>
    </div>
    <script
        src="/js/dist/app.bundle.js"
        data-turbolinks-eval="false"
        data-turbolinks-suppress-warning
    ></script>
</footer>
{{end}}

{{define "decimalParts"}}
    {{if eq (len .) 4}}
    <span class="int">{{ index . 0 }}.{{ index . 1 }}</span>
    {{if gt (len (index . 2)) 0}}<span class="decimal lh15rem">{{ index . 2 }}</span>
    <span class="decimal lh15rem trailing-zeroes">{{ index . 3 }}</span>{{end}}
    {{else}}
    <span class="int">{{index . 0}}</span>
    {{if gt (len (index . 1)) 0}}<span class="decimal lh15rem dot">.</span>
    <span class="decimal lh15rem">{{index . 1 }}</span>
    <span class="decimal lh15rem trailing-zeroes">{{index . 2}}</span>{{end}}
    {{end}}
{{end}}

{{define "fmtPercentage"}}
    {{if gt . 0.0}}<span style="color:green">+{{printf "%.2f" .}} %</span>
    {{else}}<span style="color:red">{{printf "%.2f" .}} %</span>{{end}}
{{end}}

{{define "listViewRouting"}}
    <div class="fs12 nowrap text-left" style="margin:auto auto auto 0px;">
        <select id="listing-view" class="form-control-sm mb-2 mr-sm-2 mb-sm-0">
            <option {{if eq . "years"}}selected{{end}} value="years">Years</option>
            <option {{if eq . "months"}}selected{{end}} value="months">Months</option>
            <option {{if eq . "weeks"}}selected{{end}} value="weeks">Weeks</option>
            <option {{if eq . "days"}}selected{{end}} value="days">Days</option>
            <option {{if eq . "windows"}}selected{{end}} value="ticketpricewindows">Windows</option>
            <option {{if eq . "blocks"}}selected{{end}} value="blocks">Blocks</option>
        </select>
    </div>
{{end}}

{{define "hashElide"}}
  {{$hash := (index . 0)}}
  {{$link := (index . 1)}}
  {{if eq $link ""}}
    <div
  {{else}}
    <a href="{{$link}}"
  {{end}}
    data-keynav-priority
    class="elidedhash mono"
    data-head="{{hashStart $hash}}"
    data-tail="{{hashEnd $hash}}"
    >{{$hash}}{{if eq $link ""}}</div>{{else}}</a>{{end}}
{{end}}
